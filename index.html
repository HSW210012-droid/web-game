<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>é¬¼æŠ“äººéŠæˆ²</title>
<style>
    body {
        background-color: #222;
        color: white;
        text-align: center;
        font-family: Arial, sans-serif;
    }

    canvas {
        background-color: #eee;
        display: block;
        margin: 20px auto;
        border: 3px solid #555;
    }
</style>
</head>
<body>

<h1>ğŸ‘» é¬¼æŠ“äººéŠæˆ²</h1>
<p>ä½¿ç”¨ â¬†â¬‡â¬…â¡ ç§»å‹•ï¼Œè¢«é¬¼æŠ“åˆ°å°±çµæŸï¼</p>

<canvas id="game" width="500" height="400"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

// ç©å®¶
const player = {
    x: 250,
    y: 200,
    size: 20,
    speed: 5
};

// é¬¼
const ghost = {
    x: 50,
    y: 50,
    size: 20,
    speed: 2
};

let gameOver = false;

// éµç›¤æ§åˆ¶
const keys = {};
window.addEventListener("keydown", e => keys[e.key] = true);
window.addEventListener("keyup", e => keys[e.key] = false);

function movePlayer() {
    if (keys["ArrowUp"]) player.y -= player.speed;
    if (keys["ArrowDown"]) player.y += player.speed;
    if (keys["ArrowLeft"]) player.x -= player.speed;
    if (keys["ArrowRight"]) player.x += player.speed;

    // é‚Šç•Œé™åˆ¶
    player.x = Math.max(0, Math.min(canvas.width - player.size, player.x));
    player.y = Math.max(0, Math.min(canvas.height - player.size, player.y));
}

function moveGhost() {
    if (ghost.x < player.x) ghost.x += ghost.speed;
    if (ghost.x > player.x) ghost.x -= ghost.speed;
    if (ghost.y < player.y) ghost.y += ghost.speed;
    if (ghost.y > player.y) ghost.y -= ghost.speed;
}

function checkCollision() {
    const dx = player.x - ghost.x;
    const dy = player.y - ghost.y;
    const distance = Math.sqrt(dx * dx + dy * dy);
    return distance < player.size;
}

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // ç©å®¶
    ctx.fillStyle = "dodgerblue";
    ctx.fillRect(player.x, player.y, player.size, player.size);

    // é¬¼
    ctx.fillStyle = "red";
    ctx.fillRect(ghost.x, ghost.y, ghost.size, ghost.size);
}

function gameLoop() {
    if (gameOver) return;

    movePlayer();
    moveGhost();
    draw();

    if (checkCollision()) {
        gameOver = true;
        setTimeout(() => {
            alert("ğŸ‘» ä½ è¢«é¬¼æŠ“åˆ°äº†ï¼éŠæˆ²çµæŸï¼");
            location.reload();
        }, 100);
    }

    requestAnimationFrame(gameLoop);
}

gameLoop();
</script>

</body>
</html>

